{% extends 'base.html' %}

{% block title %}Boutique Report{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto p-6 bg-white rounded-2xl shadow-xl mt-4">

  <h2 class="text-3xl font-serif text-rosepink-700 font-bold mb-6">Boutique Report</h2>

  <!-- Financial Summary -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="bg-green-50 border border-green-200 p-5 rounded-lg text-center">
      <h4 class="text-gray-700 font-medium mb-2">Total Revenue</h4>
      <p class="text-2xl font-bold text-green-700">₹ {{ total_revenue }}</p>
    </div>
    <div class="bg-blue-50 border border-blue-200 p-5 rounded-lg text-center">
      <h4 class="text-gray-700 font-medium mb-2">Total Paid</h4>
      <p class="text-2xl font-bold text-blue-700">₹ {{ total_paid }}</p>
    </div>
    <div class="bg-red-50 border border-red-200 p-5 rounded-lg text-center">
      <h4 class="text-gray-700 font-medium mb-2">Total Outstanding</h4>
      <p class="text-2xl font-bold text-red-700">₹ {{ total_outstanding }}</p>
    </div>
  </div>

  <!-- Charts -->
  <div class="mb-8">
    <canvas id="boutiqueChart" class="w-full h-96"></canvas>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('boutiqueChart').getContext('2d');
const boutiqueChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ graph_data.customers|tojson }},
        datasets: [
            {
                label: 'Revenue',
                data: {{ graph_data.revenue|tojson }},
                backgroundColor: 'rgba(34,197,94,0.6)'
            },
            {
                label: 'Paid',
                data: {{ graph_data.paid|tojson }},
                backgroundColor: 'rgba(59,130,246,0.6)'
            },
            {
                label: 'Outstanding',
                data: {{ graph_data.balance|tojson }},
                backgroundColor: 'rgba(239,68,68,0.6)'
            }
        ]
    },
    options: {
        responsive: true,
        plugins: {
            legend: { position: 'top' },
            title: { display: true, text: 'Boutique Financial Overview' }
        }
    }
});
</script>
{% endblock %}
